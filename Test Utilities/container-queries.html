<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<style>
    .parent {
        container: child-container / inline-size;
        max-width: 50vw;
    }

    .flex {
        display: flex;
        justify-content: center;
    }

    .child {
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

    .child>img {
        height: 120px;
        width: 150px;
    }

    .child>p {
        background-color: pink;
    }


    @container child-container (min-width: 500px) {
        .child {
            flex-direction: row;
        }
    }
</style>

<body>

    <div class="parent">
        <div class="flex">
            <div class="child">
                <p class="text">random text boiiii</p>
                <img src="https://media.tenor.com/n8DB4bmpduIAAAAC/yeah-bwoi-grin.gif">
                <p class="text">random text boiiii</p>
            </div>
            <div class="child">
                <p class="text">random text boiiii</p>
                <img src="https://media.tenor.com/n8DB4bmpduIAAAAC/yeah-bwoi-grin.gif">
                <p class="text">random text boiiii</p>
            </div>
            <div class="child">
                <p class="text">random text boiiii</p>
                <img src="https://media.tenor.com/n8DB4bmpduIAAAAC/yeah-bwoi-grin.gif">
                <p class="text">random text boiiii</p>
            </div>
        </div>
    </div>

</body>

</html>