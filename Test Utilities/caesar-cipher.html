<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

<div>
    <p class="content"></p>
    <p class="hint"></p>
    <p class="shifted"></p>
</div>

<script>

const data = [
    {
      hint: "Often the prefix for a type of republic",
      word: "banana",
    },
    {
      hint: "Part of a nickname for an eastern state",
      word: "sunshine",
    },
    {
      hint: "Ahh shit my teeth are falling out",
      word: "scurvy",
    },
  ];

  const caesarCipher = (str, shift, decrypt = false) => {
    const s = decrypt ? (26 - shift) % 26 : shift;
    return [...str] 
      .map((letter, i) => {
        const char = str.charCodeAt(i);
        if (char >= 97 && char <= 122)
          return String.fromCharCode(((char - 97 + s) % 26) + 97);
        return letter;
      })
      .join("");
      document.querySelector('.content').textContent = letter;
  };


  const grabWord = (data) => {
    const random = data[Math.floor(Math.random() * data.length)];
    const { word, hint } = random;
    let min = 1;
    let max = 5;
    const randomShift = Math.floor(Math.random() * (max - min + 1)) + min;
    const scrambled = caesarCipher(word, randomShift);
    updateUI(scrambled, hint, randomShift);
  };

  const updateUI = (scrambled, hint, randomShift) => {
  const scrambledWord = document.querySelector('.content').textContent = scrambled;
  const hintText = document.querySelector('.hint').textContent = hint;
  const hasShifted = document.querySelector('.shifted').textContent = `The word has shifted ${randomShift} place(s)`;
  }

  grabWord(data);


</script>
    
</body>
</html>